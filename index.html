<!DOCTYPE html>
<html lang="hu">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>K√©k Duna t√∫ra</title>

  <style>
    /* ===== RESET ===== */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    /* ===== BODY + BACKGROUND ===== */
    body {
      font-family: "Georgia", serif;
      background: url("day01/images/Alpok.png") center/cover no-repeat fixed;
      color: #f3f3f3;
    }

    /* ===== LAYOUT ===== */
    .page {
      min-height: 100vh;
    }

    /* ===== TOPBAR ===== */
    .topbar {
      background: rgba(10, 10, 10, 0.9);
      border-bottom: 1px solid #333;
    }

    .topbar .inner {
      max-width: 1100px;
      margin: auto;
      padding: 14px 20px;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .brand .title {
      font-size: 22px;
      font-weight: bold;
      color: #ffb300;
    }

    .brand .subtitle {
      font-size: 13px;
      opacity: 0.8;
    }

    /* ===== BUTTONS ===== */
    .btn {
      display: inline-block;
      text-decoration: none;
      padding: 10px 18px;
      border-radius: 18px;
      font-weight: bold;
      font-size: 14px;
      transition: background 0.2s ease, transform 0.15s ease;

      /* PLUSZ: t√∂bb gomb egym√°s mell√© sz√©pen */
      margin-right: 10px;
      margin-top: 8px;
    }

    .btn-accent {
      background: #ffb300;
      color: #111;
    }

    .btn-accent:hover {
      background: #ffca4d;
      transform: translateY(-1px);
    }

    /* PLUSZ: GMaps NAV gomb (vil√°gosk√©k) */
    .btn-nav {
      background: #2f6fe6;
      color: #fff;
      border: 0;
      box-shadow: 0 10px 22px rgba(0, 0, 0, 0.35);
    }

    .btn-nav:hover {
      background: #3a7bf0;
      transform: translateY(-1px);
    }

    /* PLUSZ: Calimoto gomb (piros) */
    .btn-calimoto {
      background: #ff2b2b;
      color: #fff;
      border: 0;
      box-shadow: 0 10px 22px rgba(0, 0, 0, 0.35);
    }

    .btn-calimoto:hover {
      background: #ff4a4a;
      transform: translateY(-1px);
    }

    /* ===== CONTENT ===== */
    .container {
      max-width: 1100px;
      margin: 60px auto;
      padding: 0 20px;
    }

    /* K√âRT FINOM√çT√ÅS: ne legyen ennyire s√∂t√©t, mert a keret is s√∂t√©t√≠t */
    .card {
      background: rgba(0, 0, 0, 0.58);
      border-radius: 18px;
      padding: 28px;
      box-shadow: 0 0 40px rgba(0, 0, 0, 0.6);
    }

    .h1 {
      font-size: 28px;
      margin-bottom: 12px;
    }

    .p {
      line-height: 1.6;
      opacity: 0.9;
    }

    /* ===== GRID ===== */
    .grid {
      margin-top: 26px;
    }

    .poi {
      background: linear-gradient(180deg, #111, #050505);
      border-radius: 16px;
      padding: 22px;
      border: 1px solid #222;
      margin-bottom: 18px;
    }

    .poi-head {
      display: flex;
      justify-content: space-between;
      gap: 20px;
      flex-wrap: wrap;
    }

    .poi-title {
      font-size: 20px;
      font-weight: bold;
    }

    .coords {
      font-size: 14px;
      opacity: 0.85;
      line-height: 1.45;
    }

    .coords b {
      color: #ffb300;
      font-weight: bold;
    }

    /* ===== POI BUTTONS ===== */
    .poibtns {
      margin-top: 18px;
    }

    /* ===== TOUR MAP (BOTTOM) ===== */
    .tourmap-section {
      margin-top: 26px;
      padding-top: 18px;
      border-top: 1px solid rgba(255, 255, 255, 0.12);
    }

    .tourmap-title {
      font-size: 18px;
      font-weight: bold;
      margin-bottom: 12px;
      opacity: 0.95;
    }

    .tourmap-wrap {
      position: relative;
      width: 100%;
      border-radius: 16px;
      overflow: hidden;
      border: 1px solid #222;
      background: #050505;
      box-shadow: 0 0 24px rgba(0, 0, 0, 0.45);
    }

    .tourmap-img {
      display: block;
      width: 100%;
      height: auto;
      user-select: none;
      -webkit-user-drag: none;
    }

    .tourmap-marker {
      position: absolute;
      left: 0;
      top: 0;
      width: 18px;
      height: 18px;
      border-radius: 50%;
      background: #ff2b2b;
      border: 2px solid rgba(255, 255, 255, 0.95);
      box-shadow: 0 0 18px rgba(255, 43, 43, 0.9);
      transform: translate(-50%, -50%);
      pointer-events: none;
      display: none;
    }

    .tourmap-note {
      margin-top: 12px;
      font-size: 13px;
      opacity: 0.85;
      line-height: 1.45;
    }

    .tourmap-note b {
      color: #ffb300;
    }
  </style>
</head>

<body>
  <div class="page">

    <!-- TOPBAR -->
    <div class="topbar">
      <div class="inner">
        <div class="brand">
          <div class="title">K√©k Duna t√∫ra</div>
          <div class="subtitle">F≈ëoldal</div>
        </div>
      </div>
    </div>

    <!-- CONTENT -->
    <div class="container">
      <div class="card">

        <div class="h1">√ötiterv</div>

        <div class="p">
          Itt a napok bel√©p≈ë oldala van. Minden napon bel√ºl van lista n√©zet,
          √©s minden helysz√≠nnek k√ºl√∂n oldala.
        </div>

        <div class="grid">

          <!-- DAY01 -->
          <div class="poi">
            <div class="poi-head">
              <div>
                <div class="poi-title">1. nap ¬∑ Fert≈ë t√≥, Kisalf√∂ld, Wachau</div>
                <div class="coords">
                  <b>353 km</b> ¬∑ <b>2446 m</b> emelked√©s ¬∑ <b>2366 m</b> ereszked√©s<br>
                  6 meg√°ll√≥, kemping Rossatz<br>
                  A Fert≈ë t√≥ sek√©ly, n√°das vil√°ga ut√°n a Duna ment√©n √©rkez√ºnk a Wachau sz≈ël≈ëteraszai k√∂z√©, ahol a foly√≥ √©s a v√°rromok adj√°k a nap hangulat√°t.
                </div>
              </div>
            </div>

            <div class="poibtns">
              <a class="btn btn-accent" href="day01/index.html">Megnyit√°s</a>
              <a class="btn btn-nav" target="_blank"
                href="https://www.google.com/maps/dir/P%C3%A1kozd,+Magyarorsz%C3%A1g/47.660292,16.643593/47.845947,16.51962/47.947851,16.409055/48.410091,15.59919/48.389414,15.516214/@47.8381785,16.2059389,10.55z/data=!4m15!4m14!1m5!1m1!1s0x476a026117a7ee37:0x400c4290c1e3d70!2m2!1d18.5430768!2d47.2172004!1m0!1m0!1m0!1m0!1m0!2m1!1b1!3e0?entry=ttu&amp;g_ep=EgoyMDI1MTIwOS4wIKXMDSoASAFQAw%3D%3D">üß≠ GMaps navig√°ci√≥</a>
              <a class="btn btn-calimoto" target="_blank"
                href="https://calimoto.com/calimotour/1.-k√©k-duna-2026-r-Nct6Uo5eTn">üèçÔ∏è Calimoto navig√°ci√≥</a>
            </div>
          </div>

          <!-- DAY02 -->
          <div class="poi">
            <div class="poi-head">
              <div>
                <div class="poi-title">2. nap ¬∑ Wachau, Salzkammergut, Lofer</div>
                <div class="coords">
                  <b>357 km</b> ¬∑ <b>5363 m</b> emelked√©s ¬∑ <b>4976 m</b> ereszked√©s<br>
                  9 meg√°ll√≥, Camping M√ºhlleiten<br>
                  Ez a nap l√°tv√°nyb√≥l √©p√≠tkezik: t√≥vid√©k, hegyek, v√∂lgyek, √©s a klasszikus alpesi ‚Äûk√©peslap‚Äù hangulat Lofer k√∂rny√©k√©n, ahol est√©re m√°r √©rezni lehet a magashegyi k√∂r√∂k √≠g√©ret√©t.
                </div>
              </div>
            </div>

            <div class="poibtns">
              <a class="btn btn-accent" href="day02/index.html">Megnyit√°s</a>
              <a class="btn btn-nav" target="_blank"
                href="https://www.google.com/maps/dir/48.390832,15.516668/48.4065739,15.4853887/48.2283,15.3326/48.226894,14.852718/47.960634,14.774023/47.687068,+14.522473/47.767519,+14.188756/47.894853,+14.024507/47.918163,13.802318/@47.8698094,13.9428327,10.78z/data=!4m23!4m22!1m0!1m0!1m0!1m0!1m0!1m3!2m2!1d14.522473!2d47.687068!1m3!2m2!1d14.188756!2d47.767519!1m3!2m2!1d14.024507!2d47.894853!1m0!2m2!1b1!2b1!3e0!5m1!1e4?entry=ttu&amp;g_ep=EgoyMDI1MTIwOS4wIKXMDSoASAFQAw%3D%3D">üß≠ GMaps navig√°ci√≥</a>
              <a class="btn btn-calimoto" target="_blank"
                href="https://calimoto.com/calimotour/2.-k√©k-duna-2026-r-GB7449Pj2w">üèçÔ∏è Calimoto navig√°ci√≥</a>
            </div>
          </div>

          <!-- DAY03 -->
          <div class="poi">
            <div class="poi-head">
              <div>
                <div class="poi-title">3. nap ¬∑ Berchtesgaden, Tirol, Bajor Alpok, Plansee</div>
                <div class="coords">
                  <b>280 km</b> ¬∑ <b>4401 m</b> emelked√©s ¬∑ <b>4012 m</b> ereszked√©s<br>
                  26 meg√°ll√≥, alpesi nagyk√∂r<br>
                  A nap cs√∫cspontja a kontraszt: a K√∂nigssee k√∂rny√©ki dr√°mai sziklafalak, majd a tiroli v√∂lgyek nyitotts√°ga. A Berchtesgaden feletti Kehlsteinhaus, a h√≠res Hitler bunkere, majd a Plansee pedig jutalom a nap v√©g√©re.
                </div>
              </div>
            </div>

            <div class="poibtns">
              <a class="btn btn-accent" href="day03/index.html">Megnyit√°s</a>

              <a class="btn btn-nav" target="_blank"
                href="https://www.google.com/maps/dir/?api=1&amp;origin=47.600005,12.989028&amp;destination=47.579540,12.664163&amp;waypoints=47.635602,12.858392|47.666843,12.754754|47.651242,12.731475|47.587895,12.694009">üß≠ GMaps navig√°ci√≥ 1</a>

              <a class="btn btn-nav" target="_blank"
                href="https://www.google.com/maps/dir/?api=1&amp;origin=47.579540,12.664163&amp;destination=47.522849,11.283508&amp;waypoints=47.521078,12.430835|47.515315,12.301712|47.581634,12.170453|47.593945,12.123529|47.616573,12.021701|47.671394,12.013727|47.713467,11.870375|47.742266,11.737634|47.693359,11.770792|47.604531,11.635889|47.584770,11.555334">üß≠ GMaps navig√°ci√≥ 2</a>

              <a class="btn btn-nav" target="_blank"
                href="https://www.google.com/maps/dir/?api=1&amp;origin=47.522849,11.283508&amp;destination=47.474442,10.786158&amp;waypoints=47.506275,11.278259|47.498009,11.260740|47.495180,11.104185|47.568854,11.092946|47.569670,10.958756|47.537103,10.889251|47.484668,10.834352">üß≠ GMaps navig√°ci√≥ 3</a>

              <a class="btn btn-calimoto" target="_blank"
                href="https://calimoto.com/calimotour/03-k√©k-duna-2026-r-5TLughMpte">üèçÔ∏è Calimoto navig√°ci√≥</a>
            </div>
          </div>

          <!-- DAY04 -->
          <div class="poi">
            <div class="poi-head">
              <div>
                <div class="poi-title">4. nap ¬∑ Ehrenberg, Neuschwanstein, Bodeni-t√≥, Donaueschingen</div>
                <div class="coords">
                  <b>260 km</b> ¬∑ <b>3527 m</b> emelked√©s ¬∑ <b>3835 m</b> ereszked√©s<br>
                  11 meg√°ll√≥, Riedsee Camping<br>
                  Klasszikus ‚Äûikon-nap‚Äù: Ehrenberg er≈ëdrendszere √©s Neuschwanstein ut√°n a Bodeni-t√≥ nagy v√≠zt√ºkre √°thangol, majd Donaueschingenben el√©rj√ºk a Duna forr√°s√°nak v√°ros√°t, ahol a t√∫ra f≈ë mot√≠vuma k√©zzelfoghat√≥v√° v√°lik.
                </div>
              </div>
            </div>

            <div class="poibtns">
              <a class="btn btn-accent" href="day04/index.html">Megnyit√°s</a>

              <a class="btn btn-nav" target="_blank"
                href="https://www.google.com/maps/dir/47.464398,10.719654/47.557367,10.691974/47.563704,10.696002/47.554753,10.736287/47.511851,9.753222/47.506477,9.780334">üß≠ GMaps navig√°ci√≥ 1</a>

              <a class="btn btn-nav" target="_blank"
                href="https://www.google.com/maps/dir/47.506477,9.780334/47.53655,9.736226/47.7262,9.2289/47.746273,9.220019/47.8465,8.8578/47.936045,8.533945">üß≠ GMaps navig√°ci√≥ 2</a>

              <a class="btn btn-calimoto" target="_blank"
                href="https://calimoto.com/calimotour/04-k√©k-duna-2026-r-LChKRIRZah">üèçÔ∏è Calimoto navig√°ci√≥</a>
            </div>
          </div>

          <!-- DAY05 -->
          <div class="poi">
            <div class="poi-head">
              <div>
                <div class="poi-title">5. nap ¬∑ Donaueschingen, Rajna-v√≠zes√©s, Aargau, Luzern, Bern, Interlaken</div>
                <div class="coords">
                  <b>273 km</b> ¬∑ <b>3685 m</b> emelked√©s ¬∑ <b>3772 m</b> ereszked√©s<br>
                  13 meg√°ll√≥, JungfrauCamp<br>
                  Itt j√∂n a v√≠z-nap: a Duna forr√°s√°t√≥l a Rajna-v√≠zes√©s brut√°lis energi√°j√°ig, majd Sv√°jc belseje. Luzernben a Kapellbr√ºcke t√∂rt√©nete k√ºl√∂n sztori, Bern pedig t√∂k√©letes ‚Äûr√©gi v√°ros‚Äù hangulat Interlaken el≈ëtt.
                </div>
              </div>
            </div>

            <div class="poibtns">
              <a class="btn btn-accent" href="day05/index.html">Megnyit√°s</a>

              <a class="btn btn-nav" target="_blank"
                href="https://www.google.com/maps/dir/47.9523454,8.5025788/47.6770234,8.6097926/47.6665183,8.5936698/47.4625345,8.1815409/47.254538,8.066148/47.153025,8.114182/46.9494074,8.048725/46.906289,7.882985/K%C3%A4serei+M%C3%BChlekehr/@46.9747504,7.6528162,9.76z/data=!4m16!4m15!1m0!1m0!1m0!1m0!1m0!1m0!1m0!1m0!1m5!1m1!1s0x478fc5d5d8e93e1d:0xaa0b58bf0fc3bbfa!2m2!1d7.8838956!2d46.9445331!3e0!5m1!1e4?entry=ttu&amp;g_ep=EgoyMDI1MTIwOS4wIKXMDSoASAFQAw%3D%3D">üß≠ GMaps navig√°ci√≥ 1</a>

              <a class="btn btn-nav" target="_blank"
                href="https://www.google.com/maps/dir/46.9443539,7.8839154/46.8765354,7.793742/46.840354,7.79598/46.7401098,7.6275532/46.675685,7.831544/46.6864029,7.8348696/@46.8696237,7.6780104,11z/data=!4m2!4m1!3e0?entry=ttu&amp;g_ep=EgoyMDI1MTIwOS4wIKXMDSoASAFQAw%3D%3D">üß≠ GMaps navig√°ci√≥ 2</a>

              <a class="btn btn-calimoto" target="_blank"
                href="https://calimoto.com/calimotour/5.-k√©k-duna-2026-r-h5kzzr7DYN">üèçÔ∏è Calimoto navig√°ci√≥</a>
            </div>
          </div>

          <!-- DAY06 -->
          <div class="poi">
            <div class="poi-head">
              <div>
                <div class="poi-title">6. nap ¬∑ Interlaken, Grimsel h√°g√≥, Furka h√°g√≥, Luzern</div>
                <div class="coords">
                  <b>221 km</b> ¬∑ <b>4850 m</b> emelked√©s ¬∑ <b>5004 m</b> ereszked√©s<br>
                  14 meg√°ll√≥, Camping International Lido Luzern<br>
                  A nagy h√°g√≥-nap: Grimsel √©s Furka a sv√°jci magashegyi motoroz√°s esszenci√°ja, a Furka pedig filmes helysz√≠n is (007), sz√≥val itt t√©nyleg ‚Äûmozi‚Äù a k√∂rnyezet.
                </div>
              </div>
            </div>

            <div class="poibtns">
              <a class="btn btn-accent" href="day06/index.html">Megnyit√°s</a>

              <a class="btn btn-nav" target="_blank"
                href="https://www.google.com/maps/dir/46.686403,7.834870/46.684709,7.853923/46.591057,7.911357/46.688446,7.920706/46.727188,8.187676/46.561165,8.337023/46.572710,8.415210/46.647269,8.590771/">üß≠ GMaps navig√°ci√≥ 1</a>

              <a class="btn btn-nav" target="_blank"
                href="https://www.google.com/maps/dir/46.647269,8.590771/46.706558,8.599614/46.903249,8.624712/46.932000,8.611000/46.932160,8.612030/47.021092,8.654110/47.050107,8.338933/">üß≠ GMaps navig√°ci√≥ 2</a>

              <a class="btn btn-calimoto" target="_blank"
                href="https://calimoto.com/calimotour/6.-k√©k-duna-2026-r-bOYF8zkFwN">üèçÔ∏è Calimoto navig√°ci√≥</a>
            </div>
          </div>

          <!-- DAY07 -->
          <div class="poi">
            <div class="poi-head">
              <div>
                <div class="poi-title">7. nap ¬∑ Sv√°jci tavakt√≥l Tirolig</div>
                <div class="coords">
                  <b>345 km</b> ¬∑ <b>3354 m</b> emelked√©s ¬∑ <b>3508 m</b> ereszked√©s<br>
                  16 meg√°ll√≥, Campingdorf Hofer (Zillertal)<br>
                  ‚Äû√Åtk√∂t≈ë nap‚Äù sok karakterrel: t√≥parti szakaszok ut√°n fokozatosan visszacs√∫szunk a tiroli v√∂lgyekbe. Ha √∫tba esik az Emment√°l, itt nem b≈±n meg√°llni sajtra, mert a t√°j √©s az √≠zek t√©nyleg √∂sszetartanak.
                </div>
              </div>
            </div>

            <div class="poibtns">
              <a class="btn btn-accent" href="day07/index.html">Megnyit√°s</a>

              <a class="btn btn-nav" target="_blank"
                href="https://www.google.com/maps/dir/47.050107,8.338933/47.045861,8.372866/47.143251,8.455585/47.213433,8.598525/47.217070,8.805522/47.227350,8.816564/47.260364,9.032927/47.284421,9.091034/47.203317,9.350294/?travelmode=driving">üß≠ GMaps navig√°ci√≥ 1</a>

              <a class="btn btn-nav" target="_blank"
                href="https://www.google.com/maps/dir/47.203317,9.350294/47.129501,10.210870/47.140677,10.563858/47.280754,10.982960/47.267209,11.271552/47.269524,11.390778/47.295353,11.601764/47.375956,11.750438/47.228658,11.886396/?travelmode=driving">üß≠ GMaps navig√°ci√≥ 2</a>

              <a class="btn btn-calimoto" target="_blank"
                href="https://calimoto.com/calimotour/7.-k√©k-duna-2026-r-InJNERq13K">üèçÔ∏è Calimoto navig√°ci√≥</a>
            </div>
          </div>

          <!-- DAY08 -->
          <div class="poi">
            <div class="poi-head">
              <div>
                <div class="poi-title">8. nap ¬∑ Tauern, Kelet Tirol, Karintia, J√∫liai Alpok</div>
                <div class="coords">
                  <b>300 km</b> ¬∑ <b>6950 m</b> emelked√©s ¬∑ <b>6796 m</b> ereszked√©s<br>
                  12 meg√°ll√≥, Camp ≈†pik (Gozd Martuljek)<br>
                  A t√∫ra legkem√©nyebb szintnapja: nagy hegyek, hossz√∫ kapaszkod√≥k, gyors ritmusv√°lt√°s v√∂lgyb≈ël h√°g√≥ra. Est√©re a J√∫liai-Alpok m√°r m√°s karakter, szikl√°sabb, √©lesebb, ‚Äûvadabb‚Äù hangulat.
                </div>
              </div>
            </div>

            <div class="poibtns">
              <a class="btn btn-accent" href="day08/index.html">Megnyit√°s</a>

              <a class="btn btn-nav" target="_blank"
                href="https://www.google.com/maps/dir/47.236752,12.081934/47.214086,12.169623/47.278304,12.482766/47.160654,12.536328/46.833378,12.749981/46.715569,12.967743">üß≠ GMaps navig√°ci√≥ 1</a>

              <a class="btn btn-nav" target="_blank"
                href="https://www.google.com/maps/dir/46.715569,12.967743/46.559968,13.275551/46.506695,13.305622/46.427673,13.568507/46.418415,13.577717/46.362,13.589/46.442065,13.57084">üß≠ GMaps navig√°ci√≥ 2</a>

              <a class="btn btn-calimoto" target="_blank"
                href="https://calimoto.com/calimotour/8.-k√©k-duna-2026-r-y9cuDRlYXT">üèçÔ∏è Calimoto navig√°ci√≥</a>
            </div>
          </div>

          <!-- DAY09 -->
          <div class="poi">
            <div class="poi-head">
              <div>
                <div class="poi-title">9. nap ¬∑ Hazat√©r√©s Karinti√°n √©s a Dr√°va ment√©n</div>
                <div class="coords">
                  <b>484 km</b> ¬∑ <b>3707 m</b> emelked√©s ¬∑ <b>4331 m</b> ereszked√©s<br>
                  5 meg√°ll√≥, a nap utols√≥ pontja: haza √©rkez√©s<br>
                  Hossz√∫, f√≥kusz√°lt gurul√°s: Karintia, Dr√°va-v√∂lgy, Maribor ir√°nya, √©s a t√∫ra ‚Äûlez√°r√≥‚Äù √©rz√©se. Ilyenkor m√°r minden meg√°ll√≥ ink√°bb eml√©k-r√∂gz√≠t√©s, mint program, mert a c√©l a biztos haza√©rkez√©s.
                </div>
              </div>
            </div>

            <div class="poibtns">
              <a class="btn btn-accent" href="day09/index.html">Megnyit√°s</a>

              <a class="btn btn-nav" target="_blank"
                href="https://www.google.com/maps/dir/46.638717549991696,14.825245817174249/46.5908,15.01547/46.556493612568545,15.64424684910935/46.5562,15.6485/46.433673,16.723171/46.485113,13.837586/47.227052,18.554073">üß≠ GMaps navig√°ci√≥</a>

              <a class="btn btn-calimoto" target="_blank"
                href="https://calimoto.com/calimotour/9.-k√©k-duna-2026-r-PXp1AFP78x">üèçÔ∏è Calimoto navig√°ci√≥</a>
            </div>
          </div>

        </div>

        <!-- TOUR MAP BOTTOM -->
        <div class="tourmap-section">
          <div class="tourmap-title">Teljes t√∫ra t√©rk√©p (aktu√°lis poz√≠ci√≥ jel√∂l√©ssel)</div>

          <div class="tourmap-wrap" id="tourMapWrap">
            <img class="tourmap-img" id="tourMapImg" src="assets/kekdunateljestura.png" alt="K√©k Duna t√∫ra teljes t√©rk√©p">
            <div class="tourmap-marker" id="tourMarker" aria-hidden="true"></div>
          </div>

          <div class="tourmap-note" id="tourMapNote">
            <b>Megjegyz√©s:</b> a piros jel√∂l≈ë a b√∂ng√©sz≈ë helymeghat√°roz√°sa alapj√°n jelenik meg. Ha a helymeghat√°roz√°s tiltva van, a jel√∂l≈ë nem fog l√°tszani.
          </div>
        </div>

      </div>
    </div>

  </div>

  <script>
    (function () {
      const img = document.getElementById("tourMapImg");
      const marker = document.getElementById("tourMarker");
      const note = document.getElementById("tourMapNote");

      // Kontroll pontok: (lat, lon) -> (x, y) pixel az eredeti k√©pen (img.naturalWidth, img.naturalHeight koordin√°ta)
      // Fontos: a px √©rt√©keknek az eredeti PNG pixelr√°cs√°hoz kell tartozniuk.
      const controlPoints = [
        { name: "Fert≈ë-t√≥ keleti t√©rs√©g", lat: 47.660292, lon: 16.643593, x: 1227, y: 150 },
        { name: "Rossatz‚ÄìArnsdorf, Dunapart 1146,46", lat: 48.395000, lon: 15.581000, x: 854, y: 171 }, // ha van pontos koordin√°ta, √≠rd √°t
        { name: "Camping M√ºhlleiten (K√∂nigssee)", lat: 47.600005, lon: 12.989028, x: 854, y: 171 },
        { name: "Riedsee Camping", lat: 47.936045, lon: 8.533945, x: 394, y: 116 },
        { name: "Staubbachfall", lat: 46.591057, lon: 7.911357, x: 328, y: 333 },
        { name: "Luzern l√°togat√°s", lat: 47.052786431137804, lon: 8.308887104765335, x: 372, y: 253 },
        { name: "Campingdorf Hofer, Hippach", lat: 47.228658, lon: 11.886396, x: 743, y: 228 },
        { name: "Camp ≈†pik, Gozd Martuljek", lat: 46.484774, lon: 13.83819, x: 947, y: 341 }
      ];

      function clamp(v, min, max) {
        return Math.max(min, Math.min(max, v));
      }

      function invert3x3(m) {
        const a = m[0][0], b = m[0][1], c = m[0][2];
        const d = m[1][0], e = m[1][1], f = m[1][2];
        const g = m[2][0], h = m[2][1], i = m[2][2];

        const A = (e * i - f * h);
        const B = -(d * i - f * g);
        const C = (d * h - e * g);
        const D = -(b * i - c * h);
        const E = (a * i - c * g);
        const F = -(a * h - b * g);
        const G = (b * f - c * e);
        const H = -(a * f - c * d);
        const I = (a * e - b * d);

        const det = a * A + b * B + c * C;
        if (Math.abs(det) < 1e-12) return null;

        const invDet = 1 / det;
        return [
          [A * invDet, D * invDet, G * invDet],
          [B * invDet, E * invDet, H * invDet],
          [C * invDet, F * invDet, I * invDet]
        ];
      }

      function mulMat3Vec3(m, v) {
        return [
          m[0][0] * v[0] + m[0][1] * v[1] + m[0][2] * v[2],
          m[1][0] * v[0] + m[1][1] * v[1] + m[1][2] * v[2],
          m[2][0] * v[0] + m[2][1] * v[1] + m[2][2] * v[2]
        ];
      }

      function transpose(A) {
        const r = A.length, c = A[0].length;
        const T = [];
        for (let j = 0; j < c; j++) {
          const row = [];
          for (let i = 0; i < r; i++) row.push(A[i][j]);
          T.push(row);
        }
        return T;
      }

      function mul(A, B) {
        const r = A.length, k = A[0].length, c = B[0].length;
        const out = Array.from({ length: r }, () => Array(c).fill(0));
        for (let i = 0; i < r; i++) {
          for (let j = 0; j < c; j++) {
            let s = 0;
            for (let t = 0; t < k; t++) s += A[i][t] * B[t][j];
            out[i][j] = s;
          }
        }
        return out;
      }

      function mulMatVec(A, v) {
        const r = A.length, c = A[0].length;
        const out = Array(r).fill(0);
        for (let i = 0; i < r; i++) {
          let s = 0;
          for (let j = 0; j < c; j++) s += A[i][j] * v[j];
          out[i] = s;
        }
        return out;
      }

      // Affin illeszt√©s: x = p0*lon + p1*lat + p2, y = q0*lon + q1*lat + q2
      function fitAffine(points) {
        if (!points || points.length < 3) return null;

        const A = points.map(p => [p.lon, p.lat, 1]);
        const bx = points.map(p => p.x);
        const by = points.map(p => p.y);

        const AT = transpose(A);
        const ATA = mul(AT, A); // 3x3
        const invATA = invert3x3(ATA);
        if (!invATA) return null;

        const ATbx = mulMatVec(AT, bx); // 3
        const ATby = mulMatVec(AT, by); // 3

        const px = mulMat3Vec3(invATA, ATbx); // 3
        const py = mulMat3Vec3(invATA, ATby); // 3

        return { px, py };
      }

      function latLonToPixel(lat, lon, model) {
        const x = model.px[0] * lon + model.px[1] * lat + model.px[2];
        const y = model.py[0] * lon + model.py[1] * lat + model.py[2];
        return { x, y };
      }

      function setMarkerAtImagePixel(x, y) {
        // √Åtsk√°l√°z√°s az aktu√°lis megjelen√≠tett m√©retre
        const nw = img.naturalWidth || 1;
        const nh = img.naturalHeight || 1;

        const rect = img.getBoundingClientRect();
        const sx = rect.width / nw;
        const sy = rect.height / nh;

        const left = x * sx;
        const top = y * sy;

        // Kicsi biztons√°gi clamp, hogy ne cs√∫sszon ki
        const cl = clamp(left, 0, rect.width);
        const ct = clamp(top, 0, rect.height);

        marker.style.left = cl + "px";
        marker.style.top = ct + "px";
        marker.style.display = "block";
      }

      function showNote(text) {
        note.textContent = text;
      }

      function init() {
        const model = fitAffine(controlPoints);
        if (!model) {
          showNote("A t√©rk√©p illeszt√©s nem siker√ºlt (kev√©s vagy hib√°s kontroll pont).");
          return;
        }

        if (!navigator.geolocation) {
          showNote("A b√∂ng√©sz≈ë nem t√°mogatja a helymeghat√°roz√°st, ez√©rt a piros jel√∂l≈ë nem jelenik meg.");
          return;
        }

        navigator.geolocation.getCurrentPosition(
          (pos) => {
            const lat = pos.coords.latitude;
            const lon = pos.coords.longitude;

            const p = latLonToPixel(lat, lon, model);
            setMarkerAtImagePixel(p.x, p.y);

            showNote("Aktu√°lis poz√≠ci√≥ jel√∂lve a t√©rk√©pen.");
          },
          (err) => {
            let msg = "A helymeghat√°roz√°s nem el√©rhet≈ë, ez√©rt a piros jel√∂l≈ë nem jelenik meg.";
            if (err && err.code === 1) msg = "A helymeghat√°roz√°s tiltva van, ez√©rt a piros jel√∂l≈ë nem jelenik meg.";
            if (err && err.code === 2) msg = "A helymeghat√°roz√°s nem √©rhet≈ë el (nincs jel), ez√©rt a piros jel√∂l≈ë nem jelenik meg.";
            if (err && err.code === 3) msg = "A helymeghat√°roz√°s id≈ët√∫ll√©p√©s miatt nem siker√ºlt, ez√©rt a piros jel√∂l≈ë nem jelenik meg.";
            showNote(msg);
          },
          {
            enableHighAccuracy: true,
            maximumAge: 15000,
            timeout: 12000
          }
        );
      }

      // Biztos: akkor indul, ha a k√©p naturalWidth m√°r ismert
      if (img.complete) {
        init();
      } else {
        img.addEventListener("load", init);
      }

      // Resize eset√©n √∫jra poz√≠cion√°lunk
      let resizeTimer = null;
      window.addEventListener("resize", function () {
        clearTimeout(resizeTimer);
        resizeTimer = setTimeout(function () {
          if (marker.style.display === "block") {
            if (navigator.geolocation) {
              navigator.geolocation.getCurrentPosition(
                (pos) => {
                  const model = fitAffine(controlPoints);
                  if (!model) return;
                  const p = latLonToPixel(pos.coords.latitude, pos.coords.longitude, model);
                  setMarkerAtImagePixel(p.x, p.y);
                },
                () => { },
                { enableHighAccuracy: false, maximumAge: 15000, timeout: 8000 }
              );
            }
          }
        }, 250);
      });
    })();
  </script>
</body>

</html>
